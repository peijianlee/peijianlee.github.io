<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lipeijian</title>
    <style>
    *{padding:0;margin:0;box-sizing:border-box}body,html{height:100%}body{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:150%;padding:1vh 0 0}:root{--tian-color:rgb(161,9,9,0.2);--text-size:56px}#myCanvas{margin-top:-20vh;max-width:996px;width:100%}h1,h2{font-family:'Century Gothic','Trebuchet MS','Lucida Sans Unicode','Lucida Grande','Lucida Sans',Arial,sans-serif;opacity:0;transition:all 1s}h1{color:#888;letter-spacing:.2em;font-size:.6em;margin-top:6vh;font-weight:100;transform:translateY(0);transition-delay:2s}h2{color:#555;font-family:'华文细黑';font-size:1.2em;font-weight:bold;display:flex;transform:translateY(0);transition-delay:1s}h2 span{position:relative;width:var(--text-size);height:var(--text-size);text-align:center}ul{margin-top:10vh;display:flex;list-style:none;opacity:0;transition:opacity 1s}ul li{width:var(--text-size);height:var(--text-size);border:2px solid var(--tian-color);position:relative;display:flex;justify-content:center;align-items:center;transition:all 1s}ul li::before,ul li::after{content:'';height:0;width:155%;position:absolute;border-bottom:1px dashed var(--tian-color)}ul li::before{transform:rotate(45deg)}ul li::after{transform:rotate(-45deg)}h2 span::after{content:attr(j-yin);font-weight:100;color:#aaa;position:absolute;width:100%;top:-26px;left:0;font-size:.4em}ul.aimateTop{opacity:1}h2.aimateTop{opacity:1;transform:translateY(-50px)}h1.aimateTop{opacity:1;transform:translateY(-20px)}@media(max-width:768px){:root{--text-size:42px}body{font-size:100%;padding:0 5vw}h2.aimateTop{opacity:1;transform:translateY(-36px)}}
    </style>
</head>
<body><canvas id="myCanvas">Your browser does not support the HTML5 canvas tag.</canvas><ul><li></li><li></li><li></li><li></li><li></li></ul><h2><span j-yin="yòu">又</span><span j-yin="cái">菜</span><span j-yin="yòu">又</span><span j-yin="ài">愛</span><span j-yin="wān">玩</span></h2><h1>www.icsscn.com</h1></body>
<script src="code.js"></script>
<script type="module">
console.log(
'  '+'\n'
+'  ┌───┐  ┌────────────┐ ┌────────────┐ ┌────────────┐ ┌──────┐    ┌────┐'+'\n'
+'  │ : │  │ :::::::::: │ │ :::::::::: │ │ :::::::::: │ │ :::: └┐   │ :: │'+'\n'
+'  └───┘  │ : ┌────────┘ │ : ┌────────┘ │ : ┌────────┘ │ : ┌┐::└┐  └┐ : │'+'\n'
+'  ┌───┐  │ : │          │ : └────────┐ │ : └────────┐ │ : │└┐::└┐  │ : │'+'\n'
+'  │ : │  │ : │          │ :::::::::: │ │ :::::::::: │ │ : │ └┐::└┐ │ : │'+'\n'
+'  │ : │  │ : │    ┌───┐ └────────┐ : │ └────────┐ : │ │ : │  └┐::└┐│ : │'+'\n'
+'  │ : └┐ │ : └────┘ : │ ┌────────┘ : │ ┌────────┘ : │ │ : └┐  └┐::└┘ : │'+'\n'
+'  │ :: │ │ :::::::::: │ │ :::::::::: │ │ :::::::::: │ │ :: │   └┐ :::: │'+'\n'
+'  └────┘ └────────────┘ └────────────┘ └────────────┘ └────┘    └──────┘'+'\n'
+'  └────┘ └────────────┘ └────────────┘ └────────────┘ └────┘    └──────┘'+'\n'
+'  └────┘ └────────────┘ └────────────┘ └────────────┘ └────┘    └──────┘'+'\n'
)
let canvasDom=document.getElementById("myCanvas")
let cxt=canvasDom.getContext("2d")
let time=10
let second=0
let circleSize=6
let[yLength,xLength]=[codes.length,codes[0].length]
let spotInfo={
maxSpots:yLength*xLength
}
canvasDom.width=xLength*(circleSize*2)
canvasDom.height=yLength*(circleSize*2)
let animateData=[]
let animateType=Math.floor(Math.random()*3)
codes.forEach((item,i)=>{
for(let j=0;j<item.length;j++){
let code=parseInt(item[j])
let itemObj={
y:i,
x:j,
code:code,
scale:true,
size:0
}
switch(animateType){
case 1:
if(code){
second++
itemObj.second=second*time
animateData.push(itemObj)
}
break
case 2:
second++
let random=Math.floor(Math.random()*spotInfo.maxSpots)
let randomSecond=random*time
itemObj.second=randomSecond
if(animateData.length>1&&animateData[animateData.length-1].second>randomSecond){
animateData.unshift(itemObj)
}else{
animateData.push(itemObj)
}
break
default:
second++
itemObj.second=second*time
animateData.push(itemObj)
}
}
})
let totalSecond=animateData[animateData.length-1].second
let animateFnTime=time
let animateFn=setInterval(()=>{
if(totalSecond<=-(animateFnTime*(circleSize*20))){
clearInterval(animateFn)
let H1=document.getElementsByTagName('h1')[0]
let H2=document.getElementsByTagName('h2')[0]
let UL=document.getElementsByTagName('ul')[0]
H1.setAttribute('class','aimateTop')
H2.setAttribute('class','aimateTop')
UL.setAttribute('class','aimateTop')
}
cxt.beginPath()
cxt.fillStyle="#fff"
cxt.fillRect(0,0,1000,1000)
cxt.closePath()
animateData.forEach(item=>{
if(!item.second){
drawCircle(item)
}else{
item.second=item.second-animateFnTime
}
})
totalSecond-=animateFnTime
},animateFnTime)
function drawCircle(item){
let X=item.x*(circleSize+circleSize)+circleSize
let Y=item.y*(circleSize+circleSize)+circleSize
let SIZE=0
cxt.fillStyle=!item.code?RGB():RGB()
if(!item.scale){
item.size-=0.1
SIZE=item.size<=0?0:item.size
}else{
item.size+=0.1
SIZE=item.size>circleSize?circleSize:item.size
if(item.size>circleSize&&!item.code){
item.scale=false
}
if(item.size>=circleSize&&item.code){
cxt.fillStyle=`rgba(${0+item.x*2},${200-item.y*15},${255-item.x*3})`
}
}
cxt.beginPath()
cxt.arc(X,Y,SIZE,0,2*Math.PI)
cxt.closePath()
cxt.fill()
}
function RGB(){
let R=Math.floor(Math.random()*255)
let G=Math.floor(Math.random()*255)
let B=Math.floor(Math.random()*255)
return`rgb(${R},${G},${B})`
}
</script>
</html>
